---
title: 集合类
date: 2025-11-23 20:30:00 +0800
categories: [Java开发, JDK源码]
tags: [java,concurrency]     
---

## LinkedHashMap

### 底层数据结构

在HashMap的基础上通过双向链表维护节点之间的顺序，因此可以按照插入顺序来访问元素

### 特殊用法

LinkedHashMap构造器提供了boolean类型accessOrder参数，当此参数为true时。访问元素会导致元素位置被移动到尾部。可以基于此特性实现LRU本地缓存。

```java
public class LRUCache<K, V> extends LinkedHashMap<K, V> {
    private final int capacity;

    public LRUCache(int capacity) {
        super(capacity, 0.75f, true);
        this.capacity = capacity;
    }

    /**
     * 判断size超过容量时返回true，告知LinkedHashMap移除最老的缓存项(即链表的第一个元素)
     */
    @Override
    protected boolean removeEldestEntry(Map.Entry<K, V> eldest) {
        return size() > capacity;
    }
}
```